---
title: نحوه ی اتصال امن به سرور های شخصی از تونل تور [لینوکس]
author: کیوچیکوتو • キョウチクトウ
pubDatetime: 2024-02-28T21:00:00Z
slug: ssh-tor-linux
featured: true
draft: false
tags:
  - اینترنت
  - پروکسی
  - فیلترشکن
ogImage: ""
description: راهنمای راه اندازی پروکسی تور و اتصال SSH به سرور از طریق آن
canonicalURL: <https://kyochikuto.pages.dev/ssh-tor-linux>
---

در این آموزش نحوه ی اتصال SSH به سرور شخصی از طریق تونل تور را بررسی خواهیم کرد.

خلاصه ی مطلب:

- • گام اول: نصب Docker بر روی سیستم عامل
- • گام دوم: اجرای پروکسی تور در یک کانتینر داکر و ارائه یک پروکسی SOCKS
- • گام سوم: تنظیم کردن SSH برای عبور ترافیک از این پروکسی

### گام اول: نصب Docker بر روی سیستم عامل

از آنجا که مخازن داکر برای آی‌پی ایران تحریم هستند ابتدا باید سرویس [شکن](https://shecan.ir/tutorials/) را برای دستگاه خود فعال نمایید

سپس با استفاده از دستورات زیر فایل های نصب را از مخزن دریافت نموده و اجرا کنید:

```bash
git clone --depth 1 --branch assets https://github.com/kyochikuto/kyochikuto.github.io.git
cd scripts
./install_docker.sh
./add_ssh_proxy_bash_alias.sh
exec $SHELL
```

### گام دوم: اجرای پروکسی تور در یک کانتینر داکر و ارائه یک پروکسی SOCKS

مخزن زیر حاوی فایل های داکر آماده هستند با دستور زیر دریافت نموده و کانتیر داکر تور را اجرا نمایید:

```bash
git clone https://github.com/redpilllabs/tor.git
cd tor
docker compose up
```

پس از این، داکر Image تور را دریافت خواهد نمود و شما مراحل اتصال تور را به درصد (در انتهای هر خط) خواهید دید.
اتصالات داکر معمولا چندین دقیقه طول خواهند کشید اما اگر این فرایند بیش از اندازه طول کشید می‌توانید عملیات را کنسل کرده Ctrl+C و سپس دوباره دستور `docker compose up` را اجرا نمایید.

هنگامی که یک بار این مراحل را امتحان کرده و از عملکرد تور اطمینان حاصل نمودید می‌توانید با اضافه کردن -d به انتهای دستور فوق، این کانتیر را بصورت پس زمینه و بدون اشغال کردن ترمینال اجرا نمایید.

```bash
docker compose up -d

```

و برای غیرفعال کردن کانتینر تور، در همان پوشه ی tor دستور زیر را وارد نمایید

```bash

docker compose down --remove-orphans
```

و برای مشاهده لاگ های کانتینر

```bash
docker compose logs -f
```

اگر موفق به اتصال شده باشید باید عبارت Bootstrapped 100% (done): Done رو در لاگ مشاهده کنید.

### گام سوم: تنظیم کردن SSH برای عبور ترافیک از این پروکسی

پس از طی مراحل فوق هم اکنون می‌توانید با دستور زیر از طریق تور به سرور خود متصل شوید:

```bash
ssh-proxy USER@SERVER_IP
```
